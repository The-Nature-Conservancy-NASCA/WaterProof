{% extends "menu.html" %} {% load i18n %} {% load static from staticfiles %} {% load bootstrap_tags %} {% block extra_head %}
<link href="https://unpkg.com/smartwizard@5/dist/css/smart_wizard_all.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
<link rel="stylesheet" href="{{ STATIC_URL }}geonode/css/leaflet/Control.Coordinates.css" />
<link rel="stylesheet" href="{{ STATIC_URL }}geonode/css/leaflet/Control.Loader.css" />
<!--
<link rel="stylesheet" href="{{ STATIC_URL }}waterproof_intake/mathquill/mathquill.css" />
<link rel="stylesheet" href="{{ STATIC_URL }}waterproof_intake/css/intake.css" /> 
-->
<link rel="stylesheet" href="{{ STATIC_URL }}waterproof_reports/css/reports.css" />


{% endblock %} {% block body_outer %}
<!--header-->
<script type="text/javascript">
    var SelectedCurrency = "{{SelectedCurrency}}";
</script>
<div class="page-header">
    <h1>{% trans "Financial Indicators" %}</h1>
    
</div>
<br>
<!--Begin Form-->
<form id="form" method="POST" action="">
    {% csrf_token %}
    <!--Start smartwizard-->
    <br>
    <div id="smartwizard">
        <div class="border-table-title">
            <div class="title-table">{% trans "Study Case" %}</div>
            <div class="detail-table">
                <div class="column-left-table">
                    <div class="file-column-left">
                        <div>{% trans "City:" %}</div>
                        <div class="value-file-column-left">{% trans "Bogota" %}</div>
                    </div>
                    <div class="file-column-left">
                        <div>{% trans "Country:" %}</div>
                        <div class="value-file-column-left">{% trans "Colombia" %}</div>
                    </div>
                    <div class="file-column-left">
                        <div>{% trans "Region:" %}</div>
                        <div class="value-file-column-left">{% trans "Central" %}</div>
                    </div>
                </div>
                <div class="column-right-table">
                    <div class="file-column-left">
                        <div class="title-file-column-right">{% trans "Number of water intakes that are part of the analysis:" %}</div>
                        <div class="value-file-column-left">{% trans "2" %}</div>
                    </div>
                    <div class="file-column-left">
                        <div class="title-file-column-right">{% trans "Number of drinking water treatment plants in the system:" %}</div>
                        <div class="value-file-column-left">{% trans "1" %}</div>
                    </div>
                </div>
            </div>
        </div>
        <!--panel of navigation-->
        <div class="title-inform">
            <div id="idSectionRoi" class="inform-section">{% trans "Return of investment (ROI)" %}</div>
            <div id="idSectionNvp" class="inform-section inform-section-free">{% trans "Net present value (NPV)" %}</div>
            <div class="inform-section inform-section-free">{% trans "Sensitivity analysis" %}</div>
        </div>
        <!--Steps-->
        <div>
            <!--Step 1-->
            <div id="step1">
                <div style="text-align: center;">
                        <div class="content-image">
                            <img src="/static/geonode/img/Indicadores-financieros.png"/>
                        </div>
                        <div class="contain-detail">
                            <div class="first-detail">
                                <div class="content-title-first">
                                    <div class="text-title-first">Benefits</div>
                                    <div class="close-title-first">-</div>
                                </div>
                                <div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Water intake (currency)</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                    </div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Treatment plants (currency)</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option three</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="first-detail">
                                <div class="content-title-first">
                                    <div class="text-title-first">Cost</div>
                                    <div class="close-title-first">-</div>
                                </div>
                                <div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Implementation</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                    </div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Maintance</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                    </div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Oportunity</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                    </div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Transaction</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                    </div>
                                    <div class="first-detail-in">
                                        <div class="text-first-detail">Platform</div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option one</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option two</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option three</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option four</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option five</div>
                                        </div>
                                        <div class="content-option-first-detail">
                                            <div class="div-option"><input type="checkbox"></div>
                                            <div class="div-text">Option six</div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                </div>
                
                <br>
                <!--Graph-->
                <div style="width: 100%; padding: 80px;margin-top: 500px;">
                    <div id="containerRoi"></div>
                </div>
                <!--Table-->
                <div style="clear:both;" class="table-responsive">
                    <table id="idTableRoi" class="table table-striped table-bordered table-condensed" style=" width:100%">
                        <thead>
                            <tr class="info">
                                <th scope="col" class="small text-center vat">{% trans "Time Period" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "1" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "2" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "3" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "4" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "5" %}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="filas">
                                <td class="small text-center vat" >Width turbidity treatment</td>
                                <td class="small text-center vat truncate" id="valor1">77654,15</td>
                                <td class="small text-center vat" id="valor2">257363,48</td>
                                <td class="small text-center vat" id="valor3">826028,32</td>
                                <td class="small text-center vat" id="valor4">2602428,59</td>
                                <td class="small text-center vat" id="valor5">67829527,58</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--Step 2-->
            <div id="step2"  style="display: none;">
                <div style="text-align: center;">
                        <div class="content-image">
                            <img src="/static/geonode/img/Indicadores-beneficio.png"/>
                        </div>
                        <div class="contain-detail">
                            <!--Graph-->
                            <div style="width: 50%;position: absolute;left: 450px;">
                                <div id="containerNpv"></div>
                            </div>
                        </div>
                </div>                
                <br>
                <!--Table-->
                <div style="clear:both;" class="table-responsive">
                    <table id="idTableNpv" class="table table-striped table-bordered table-condensed" style=" width:100%">
                        <thead>
                            <tr class="info">
                                <th scope="col" class="small text-center vat">{% trans "Indicator" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in volume of water yield (%)" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in base flow (%)" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in total sediments (%)" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in nitrogen load (%)" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in phosphorus load (%)" %}</th>
                                <th scope="col" class="small text-center vat">{% trans "Change in carbon storage (%)" %}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="filas">
                                <td class="small text-center vat" >Value</td>
                                <td class="small text-center vat truncate" id="valor1">17 %</td>
                                <td class="small text-center vat" id="valor2">40 %</td>
                                <td class="small text-center vat" id="valor3">-13 %</td>
                                <td class="small text-center vat" id="valor4">-75 %</td>
                                <td class="small text-center vat" id="valor5">-73 %</td>
                                <td class="small text-center vat" id="valor6">40 %</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--Step 3-->
            <div id="step3">
            </div>
        </div>

</form>

{% endblock %} {% block extra_script %}
<script src="{{ STATIC_URL }}lib/Highcharts-9.0.1/code/highcharts.js"></script>
<script src="{{ STATIC_URL }}lib/Highcharts-9.0.1/code/modules/exporting.js"></script>
<script src="{{ STATIC_URL }}lib/Highcharts-9.0.1/code/modules/export-data.js"></script>
<script src="{{ STATIC_URL }}lib/Highcharts-9.0.1/code/modules/accessibility.js"></script>

<script src="{{ STATIC_URL }}geonode/js/datatables/jquery.dataTables.min.js"></script>
<script src="{{ STATIC_URL }}geonode/js/datatables/dataTables.bootstrap.min.js"></script>

<script type="text/javascript" src="{% url 'javascript-catalog-intake' %}"></script>
<script src="{{ STATIC_URL }}waterproof_intake/js/jquery.smartWizard.min.js" type="text/javascript"></script>
<!--
<script src="{{ STATIC_URL }}geonode/js/leaflet/Leaflet.Editable.js"></script>
<script src="{{ STATIC_URL }}geonode/js/leaflet/Leaflet.Coordinates.js"></script>
<script src="{{ STATIC_URL }}geonode/js/leaflet/Control.Loader.js"></script>
-->
<!--ZIP reader library-->
<script src="{{ STATIC_URL }}geonode/js/jszip/jszip.min.js"></script>
<!--Shapefile reader library -->
<script src="{{ STATIC_URL }}geonode/js/shp/shp.min.js"></script>
<script src="{{ STATIC_URL }}geonode/js/proj4js/proj4.js"></script>
<script type="text/javascript">
    var mxBasePath = '{{ STATIC_URL }}geonode/js/mxgraph/src';
    var mxImageBasePath = '{{ STATIC_URL }}geonode/js/mxgraph/examples/images';
    var editorUrl = '{{ STATIC_URL }}geonode/js/mxgraph/examples/editors/config/diagrameditor.xml';
    var serverApi = '{{serverApi}}';
    var lang = '{{LANGUAGE_CODE}}';
    let waterproof = {};
    OSM_BASEMAP_URL = '{{ OSM_BASEMAP_URL }} ';
    IMG_BASEMAP_URL = '{{ IMG_BASEMAP_URL }} ';
    HYDRO_BASEMAP_URL = '{{ HYDRO_BASEMAP_URL }} ';
    GRAY_BASEMAP_URL = '{{ GRAY_BASEMAP_URL }} ';
    GEOSERVER_WMS = '{{ GEOSERVER_WMS }}';
    HYDRO_NETWORK_LYR = '{{ HYDRO_NETWORK_LYR }}';
</script>
<!--<script src="{{ STATIC_URL }}waterproof_reports/js/physicalIndicators.js"></script>-->
<script src="{{ STATIC_URL }}geonode/js/mxgraph/mxClient.js"></script>
<script src="{{ STATIC_URL }}geonode/js/mxgraph/examples/editors/js/app.js"></script>
<script src="{{ STATIC_URL }}geonode/js/mxgraph/examples/editors/js/app.js"></script>
<script src="{{ STATIC_URL }}waterproof_intake/mathquill/mathquill.min.js"></script>
<!--<script src="{{ STATIC_URL }}waterproof_reports/js/physicalIndicators.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

<script type="text/javascript">

    

$(function () {
    initialize = function () {
        var table = $('#idTableRoi').DataTable({
                'dom': 'lrtip'
            });
        var table = $('#idTableNpv').DataTable({
                'dom': 'lrtip'
            });
        Highcharts.chart('containerRoi', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Return of investment'
            },
            colors: ['#fe7700', '#ffc400', '#426ac7', '#a5a5a5'],
            xAxis: {
                categories: ['1', '2', '3', '4', '5']
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Total Cost',
                data: [parseFloat("2846600"), parseFloat("3027500"), parseFloat("3602300"), parseFloat("778100"), parseFloat("934700")]
            },{
                name: 'Total Discounted Cost',
                data: [parseFloat("2711047"), parseFloat("2746031"), parseFloat("3111802"), parseFloat("640144"), parseFloat("732361")]
            },{
                name: 'Total Benefits',
                type: 'spline',
                dashStyle: 'shortdot',
                data: [parseFloat("95269"), parseFloat("235364"), parseFloat("277568"), parseFloat("302390"), parseFloat("316475")]
            },{
                name: 'Total Discounted Benefits',
                type: 'spline',
                dashStyle: 'shortdot',
                data: [parseFloat("2711047"), parseFloat("2746031"), parseFloat("3111802"), parseFloat("640144"), parseFloat("732361")]
            }]
        });

        Highcharts.chart('containerNpv', {
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Net present value'
            },
            xAxis: {
                categories: ['Carbon storage', 'Phosphorus load', 'Nitrogen load', 'Total sediments', 'Base flow', 'Volumen of water yield']
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'NPV',
                data: [parseFloat("40"),parseFloat("-73"),parseFloat("-75"),parseFloat("-13"),parseFloat("40"),parseFloat("17")]
            }]
        });

        $('#idSectionRoi').click(function (e) {
            $('#idSectionNvp').attr('class', 'inform-section inform-section-free');
            $('#step2').css("display", "none");

            $('#idSectionRoi').attr('class', 'inform-section');
            $('#step1').css("display", "block");
            

        });
        $('#idSectionNvp').click(function (e) {
           $('#idSectionRoi').attr('class', 'inform-section inform-section-free');
           $('#step1').css("display", "none");

           $('#idSectionNvp').attr('class', 'inform-section');
           $('#step2').css("display", "block");
        });
    };
    initialize();
});
    
</script>

<script type="text/javascript">

   



</script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js"
    integrity="sha512-dTu0vJs5ndrd3kPwnYixvOCsvef5SGYW/zSSK4bcjRBcZHzqThq7pt7PmCv55yb8iBvni0TSeIDV8RYKjZL36A=="
    crossorigin="anonymous"></script>-->
{% endblock %}